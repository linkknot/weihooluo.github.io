<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="积跬步，至千里">
<meta property="og:type" content="website">
<meta property="og:title" content="无名氏">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="无名氏">
<meta property="og:description" content="积跬步，至千里">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="无名氏">
<meta name="twitter:description" content="积跬步，至千里">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/"/>





  <title>无名氏</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">无名氏</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">路漫修长|且行且珍惜</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-books">
          <a href="/books/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br />
            
            阅读
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/07/python-thread-achieve/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/07/python-thread-achieve/" itemprop="url">python多线程的实现</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-06-07T11:07:08+08:00">
                2017-06-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/多线程/" itemprop="url" rel="index">
                    <span itemprop="name">多线程</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>​    在程序开发中，多任务的完成可以有多进程完成，也可以同通过单进程内的多线程完成，进程与线程的区别在这里就不再细说</p>
<p>关键的区别：</p>
<ul>
<li>创建：进程的需要使用更多的系统资源，线程是轻量级的进程，资源消耗少</li>
<li>资源管理：不同进程间的资源不共用，线程可以共同使用进程内的数据</li>
</ul>
<p>python的多线程是真正的Posix Thread</p>
<p>python中的标准库提供了两个模块：<code>thread</code>和<code>thrading</code>,</p>
<ul>
<li><code>thread</code>是低级模块</li>
<li><code>threading</code>是高级模块，是对thread的封装，一般是的使用都是使用该模块</li>
</ul>
<p>简单的用法是创建一个<code>Thread</code>实例，然后调用<code>start()</code>开始执行：</p>
<ul>
<li>将方法多线程实例</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> threading, time, Queue</div><div class="line"></div><div class="line">q = Queue.Queue()</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">100</span>):</div><div class="line">    q.put(i)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_time</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">not</span> q.empty():</div><div class="line">        item = q.get()</div><div class="line">        time.sleep(<span class="number">1</span>)</div><div class="line">        <span class="keyword">print</span> <span class="string">'number %s ,time %s, thread name %s'</span> % (item, time.time(), threading.current_thread().name)</div><div class="line"></div><div class="line">threads = []</div><div class="line">t = threading.Thread(target=print_time, name=<span class="string">'PrintThread1'</span>)</div><div class="line">t.start()</div><div class="line">threads.append(t)</div><div class="line">t = threading.Thread(target=print_time, name=<span class="string">'PrintThread2'</span>)</div><div class="line">t.start()</div><div class="line">threads.append(t)</div><div class="line"><span class="keyword">for</span> thread_ <span class="keyword">in</span> threads:</div><div class="line">    thread_.join()</div><div class="line"><span class="keyword">print</span> <span class="string">'thread %s ended.'</span> % threading.current_thread().name</div></pre></td></tr></table></figure>
<ul>
<li>实例化Threading类</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> threading</div><div class="line"><span class="keyword">import</span> Queue</div><div class="line"><span class="keyword">import</span> time</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">PrintThread</span><span class="params">(threading.Thread)</span>:</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, arg_print_queue)</span>:</span></div><div class="line">        super(PrintThread, self).__init__()</div><div class="line">        self.print_queue = arg_print_queue</div><div class="line"></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self)</span>:</span></div><div class="line">    <span class="keyword">while</span> <span class="keyword">not</span> self.print_queue.empty():</div><div class="line">        item = self.print_queue.get()</div><div class="line">        time.sleep(<span class="number">1</span>)</div><div class="line">        <span class="keyword">print</span> <span class="string">'number %s ,time %s, thread name %s '</span> % (item, time.time(), threading.current_thread().name,)</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></div><div class="line">    q = Queue.Queue()</div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">100</span>):</div><div class="line">        q.put(i)</div><div class="line">    threads = []  </div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">3</span>):</div><div class="line">        tmp_thread = PrintThread(q)</div><div class="line">        tmp_thread.start()</div><div class="line">        threads.append(tmp_thread)</div><div class="line">  </div><div class="line">    <span class="keyword">for</span> thread_ <span class="keyword">in</span> threads:</div><div class="line">        thread_.join()</div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">  main()</div></pre></td></tr></table></figure>
<h3 id="线程锁"><a href="#线程锁" class="headerlink" title="线程锁"></a>线程锁</h3><p>由于多线程是共用的同一个地址空间的变量的，所有不正确的执行导致内容出现不同的运行结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> threading, time, Queue</div><div class="line"></div><div class="line">q = <span class="number">0</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">change_data</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">global</span> q</div><div class="line">    q = q + n</div><div class="line">    q = q - n</div><div class="line">    </div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_thread</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10000</span>):</div><div class="line">        change_data(n)</div><div class="line">threads = []</div><div class="line">t = threading.Thread(target=run_thread, args=(<span class="number">5</span>,), name=<span class="string">'PrintThread1'</span>)</div><div class="line">t.start()</div><div class="line">threads.append(t)</div><div class="line">t = threading.Thread(target=run_thread, args=(<span class="number">8</span>,), name=<span class="string">'PrintThread2'</span>)</div><div class="line">t.start()</div><div class="line">threads.append(t)</div><div class="line"><span class="keyword">for</span> thread_ <span class="keyword">in</span> threads:</div><div class="line">    thread_.join()</div><div class="line"><span class="keyword">print</span> q</div><div class="line"><span class="keyword">print</span> <span class="string">'thread %s ended.'</span> % threading.current_thread().name</div></pre></td></tr></table></figure>
<p>而在实际的运行中结果则不一定是0，这是为什么呢？</p>
<p>因为<code>q = q + n</code>是非原子操作，即计算以及赋值是两个操作，即</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">x = q + n</div><div class="line">q = X</div></pre></td></tr></table></figure>
<p>所以当代码正常执行时执行时，</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">t1: x1 = q + 5 # x1 = 0 + 5 = 5</div><div class="line">t1: q = x1     # q = 5</div><div class="line">t1: x1 = q - 5 # x1 = 5 - 5 = 0</div><div class="line">t1: q = x1     # q = 0</div><div class="line"></div><div class="line">t2: x2 = q + 8 # x2 = 0 + 8 = 8</div><div class="line">t2: q = x2     # q = 8</div><div class="line">t2: x2 = q - 8 # x2 = 8 - 8 = 0</div><div class="line">t2: q = x2     # q = 0</div><div class="line"># 结果 q = 0</div></pre></td></tr></table></figure>
<p>带线程被调度时，t1，t2交替执行：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">t1: x1 = q + 5  # x1 = 0 + 5 = 5</div><div class="line"></div><div class="line">t2: x2 = q + 8  # x2 = 0 + 8 = 8</div><div class="line">t2: q = x2      # q = 8</div><div class="line"></div><div class="line">t1: q= x1      # q = 5</div><div class="line">t1: x1 = q - 5  # x1 = 5 - 5 = 0</div><div class="line">t1: q = x1      # q = 0</div><div class="line"></div><div class="line">t2: x2 = q - 5  # x2 = 0 - 5 = -5</div><div class="line">t2: q = x2      # q = -5</div><div class="line"># 结果 q = -5</div></pre></td></tr></table></figure>
<p>而第二个才是实际的运行情况，那如何才能比秒内容被篡改呢？</p>
<p>对，用锁</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">lock = threading.Lock()</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">run_thread</span><span class="params">(n)</span>:</span></div><div class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">100000</span>):</div><div class="line">        <span class="comment"># 先要获取锁:</span></div><div class="line">        lock.acquire()</div><div class="line">        <span class="keyword">try</span>:</div><div class="line">            <span class="comment"># 放心地改吧:</span></div><div class="line">            change_it(n)</div><div class="line">        <span class="keyword">finally</span>:</div><div class="line">            <span class="comment"># 改完了一定要释放锁:</span></div><div class="line">            lock.release()</div></pre></td></tr></table></figure>
<p>线程运行前先获得锁，有锁才能执行，运行完后释放锁</p>
<h3 id="参考链接"><a href="#参考链接" class="headerlink" title="参考链接"></a>参考链接</h3><p><a href="https://www.liaoxuefeng.com/wiki/001374738125095c955c1e6d8bb493182103fac9270762a000/001386832360548a6491f20c62d427287739fcfa5d5be1f000" target="_blank" rel="external">多线程-廖雪峰的官方网站</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/27/rquests-download-file-python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/27/rquests-download-file-python/" itemprop="url">python下载视频的方式</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-27T10:54:56+08:00">
                2017-05-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/视频处理/" itemprop="url" rel="index">
                    <span itemprop="name">视频处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>暂时我们使用的有以下两种视频的下载方式：</p>
<ol>
<li>request下载</li>
<li>ffmpeg下载</li>
</ol>
<p>以下将对这种方式进行介绍</p>
<h2 id="Request下载文件"><a href="#Request下载文件" class="headerlink" title="Request下载文件"></a>Request下载文件</h2><p>近期有需要爬取视频进行分析，涉及到下载视频文件，在下载视频文件的方法中，我们选取了使用<code>requests.get()</code>来下载视频，这也是一种十分常用的方式，以下是主要代码</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> requests</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">down_video</span><span class="params">(arg_url, arg_save_path)</span>:</span></div><div class="line">    response = requests.get(arg_url, stream=<span class="keyword">True</span>, timeout=(<span class="number">5</span>,<span class="number">10</span>))</div><div class="line">    <span class="keyword">with</span> open(arg_save_path, <span class="string">'wb'</span>) <span class="keyword">as</span> video_file</div><div class="line">	<span class="keyword">for</span> chunk <span class="keyword">in</span> response.iter_content(chunk_size=<span class="number">1024</span>):</div><div class="line">        <span class="keyword">if</span> chunk:</div><div class="line">            video_file.write(chunk)</div></pre></td></tr></table></figure>
<h3 id="timeout-5-10"><a href="#timeout-5-10" class="headerlink" title="timeout=(5,10)"></a>timeout=(5,10)</h3><p>通过以上的代码的方式就能将视频下载，<code>requests.get()</code>的默认<code>timeout</code>是<code>None</code>，如果不设置timeout，连接建立的时候就会一直等待。</p>
<p>我们需要可以对请求进行timeout的设置，设置方法是<code>timeout=3</code>，通过这样的设置，就能设置建立连接的timeout。</p>
<p>在实际使用时，出现了进程卡在了读取响应体的情况，最后在官方找到的设置方法。</p>
<p>当你想设置响应体下载的的timeout时就需要这样设置<code>timeout=(5,10)</code>，前一个的5表示建立请求的超时时间，或一个10表示响应体下载的超时时间。</p>
<h4 id="stream-True"><a href="#stream-True" class="headerlink" title="stream=True"></a>stream=True</h4><p>requests.get()中stream参数时设置下载的时间：</p>
<p>当stream=False时，当你进行网络请求后，响应体会立即被下载</p>
<p>当stream=True时，当你进行网络请求后，推迟下载响应体直到访问 <code>Response.content</code> 属性</p>
<h3 id="chunk-size-1024"><a href="#chunk-size-1024" class="headerlink" title="chunk_size=1024"></a>chunk_size=1024</h3><p>在读取文件时，使用一块块进行读取，这是需要设置缓冲区的大小，缓冲区的大小一般可以设为1024B，即1MB，对于资源较小的机器可以设置稍小。</p>
<h2 id="还有一种非python库的下载方式FFMPEG"><a href="#还有一种非python库的下载方式FFMPEG" class="headerlink" title="还有一种非python库的下载方式FFMPEG"></a>还有一种非python库的下载方式FFMPEG</h2><p>FFmpeg在视频处理方面时非常好的，多种复杂的使用</p>
<p>下面使用在python中调用ffmpeg下载的方法，下载10秒</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> subprocess</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">download_video_ffmpeg</span><span class="params">(arg_url,arg_save_path)</span>:</span></div><div class="line">  cmd = [</div><div class="line">      <span class="string">'ffmpeg'</span>,</div><div class="line">      <span class="string">'-i'</span>,</div><div class="line">      <span class="string">'-s'</span>, <span class="string">'00:00:10.000'</span></div><div class="line">      arg_url,</div><div class="line">      arg_save_path</div><div class="line">  ]</div><div class="line">  child = subprocess.Popne(cmd)</div><div class="line">  child.wait()</div></pre></td></tr></table></figure>
<p>经测试使用，ffmpeg下载的视频的画质较差，reuqest.get()视频的画质较好</p>
<table>
<thead>
<tr>
<th style="text-align:center">下载方式</th>
<th style="text-align:left">优点</th>
<th style="text-align:left">缺点</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">requests.get()</td>
<td style="text-align:left">画质较好</td>
<td style="text-align:left">不能很好控制视频采集时间，会出现丢失视频持续时间，视频帧率，视频码率</td>
</tr>
<tr>
<td style="text-align:center">ffmepg</td>
<td style="text-align:left">能够控制下载视频时间，并能保存好视频信息</td>
<td style="text-align:left">画质较差</td>
</tr>
</tbody>
</table>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="http://docs.python-requests.org/zh_CN/latest/user/advanced.html#timeout" target="_blank" rel="external">超时(timeout)</a></p>
<h3 id="end"><a href="#end" class="headerlink" title="end"></a>end</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/05/26/ubuntu-install-ffmpeg/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/05/26/ubuntu-install-ffmpeg/" itemprop="url">Ubuntu安装ffmpeg</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-05-26T17:23:47+08:00">
                2017-05-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/视频处理/" itemprop="url" rel="index">
                    <span itemprop="name">视频处理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Ubuntu安装ffmpeg"><a href="#Ubuntu安装ffmpeg" class="headerlink" title="Ubuntu安装ffmpeg"></a>Ubuntu安装ffmpeg</h2><p>由于视频处理需要，需要在ubuntu上部署ffmpeg，整体来说流程有以下方法：</p>
<ol>
<li>直接通过apt-get安装，但是不推荐，安装的版本的会很旧</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">add-apt-repository ppa:kirillshkrogalev/ffmpeg-next</div><div class="line">apt-get update</div><div class="line">apt-get install ffmepg</div></pre></td></tr></table></figure>
<ol>
<li>自己编译，这也是重点说的。</li>
</ol>
<h3 id="自己编译ffmpeg"><a href="#自己编译ffmpeg" class="headerlink" title="自己编译ffmpeg"></a>自己编译ffmpeg</h3><ol>
<li><p>下载</p>
<p>找目录作为下载目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo mkdir ~/ffmpeg_package</div><div class="line"><span class="built_in">cd</span> ~/ffmpeg_package</div><div class="line">git <span class="built_in">clone</span> https://git.ffmpeg.org/ffmpeg.git ffmpeg</div></pre></td></tr></table></figure>
</li>
<li><p>安装需要的库</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 首先安装yasm</span></div><div class="line">sudo apt-get install yasm</div><div class="line">sudo apt-get install libx264-dev</div><div class="line">sudo apt-get install libfaac-dev</div><div class="line">sudo apt-get install libmp3lame-dev</div><div class="line">sudo apt-get install libtheora-dev</div><div class="line">sudo apt-get install libvorbis-dev</div><div class="line">sudo apt-get install libxvidcore-dev</div><div class="line">sudo apt-get install libxext-dev</div><div class="line">sudo apt-get install libxfixes-dev</div><div class="line"><span class="comment"># 或者可以直接</span></div><div class="line">sudo apt-get install yasm,libx264-dev,libfaac-dev,libmp3lame-dev,libtheora-dev,libvorbis-dev,libxvidcore-dev,libxext-dev,libxfixes-dev</div></pre></td></tr></table></figure>
</li>
<li><p>编译</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/ffmpeg_package/ffmpeg</div><div class="line">sudo ./configure --prefix=/usr/<span class="built_in">local</span>/ffmpeg --enable-gpl --enable-version3 --enable-nonfree --enable-postproc --enable-pthreads --enable-libfaac --enable-libmp3lame --enable-libtheora --enable-libx264 --enable-libxvid --enable-x11grab --enable-libvorbis</div></pre></td></tr></table></figure>
<p>由于不同的版本的要求，可能会出现报./configure中没有某个选项，这时候需要删除某些库，下面是删除<code>libfaac</code>，<code>x11grab</code>，所以可以使用下面的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> ~/ffmpeg_package/ffmpeg</div><div class="line">sudo ./configure --prefix=/usr/<span class="built_in">local</span>/ffmpeg --enable-gpl --enable-version3 --enable-nonfree --enable-postproc --enable-pthreads --enable-libmp3lame --enable-libtheora --enable-libx264 --enable-libxvid --enable-libvorbis</div></pre></td></tr></table></figure>
<p>make</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">make</div><div class="line">make install</div></pre></td></tr></table></figure>
<p>编译完成后最后一步，将编译好的可执行复制到系统bin</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">cp /usr/<span class="built_in">local</span>/ffmpeg/bin/* /usr/<span class="built_in">local</span>/bin</div></pre></td></tr></table></figure>
</li>
</ol>
<h3 id="end"><a href="#end" class="headerlink" title="end"></a>end</h3>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/21/ascii-unicode-utf-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/21/ascii-unicode-utf-8/" itemprop="url">字符编码(ascii,unicode,utf-8)</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-21T10:10:59+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h2><p>计算机字符编码是多种不同的标准，比较常用的是ASCII，Unicode，utf-8</p>
<h3 id="ASCII编码"><a href="#ASCII编码" class="headerlink" title="ASCII编码"></a>ASCII编码</h3><p>在我们的认知中，在计算机内部，所有的信息都可以表示为一个二进制的字符串，而每个二进制位都有着0和1两种状态，ascii编码是一种基于拉丁字母的一套电脑编码系统，用于显示现代英语，扩展的EASCII则可以支持西欧语言</p>
<p>ascii编码的使用很局限，只能用于表现26个英语字母以及相当一部分的字符。由于ascii编码使用的是后7位，前面一位置0，所以总共128个字符。</p>
<h3 id="非ASCII编码"><a href="#非ASCII编码" class="headerlink" title="非ASCII编码"></a>非ASCII编码</h3><p>在表达其他语言时，ASCII编码就显得不足了，并能表达出其他语言的字符，例如汉子的就有10万个组，当然中文的编码GB2312使用两个字节表示一个汉字与后面讲到的多字节表示的utf-8和unicode编码是不同的</p>
<h3 id="Unicode编码"><a href="#Unicode编码" class="headerlink" title="Unicode编码"></a>Unicode编码</h3><p>​    unicode编码是一种国际码，即对世界的大部分文字进行规划整理，编码，使得电脑可以使用简单的方式来显示和处理文字。Unicode编码一直在持续的更新，不断有新的字符添加进入unicode编码中，现行的很多新兴的编程语言以及现代操作系统都会使用的unicode编码</p>
<p>​    unicode编码为了兼容原来的基本拉丁字母以及其他的编码方式，保留了256字符给IOS-8859-1标准多定义的字符，并且将大量相同的字符重复编到不同的字符码中，这样使得unicode编码与其他编码之间可以相互直接转换以及标识全半角符号</p>
<p>​    unicode标准在2.0之后就开始向后兼容，即不删除字符，只增加字符</p>
<h3 id="Utf-8编码"><a href="#Utf-8编码" class="headerlink" title="Utf-8编码"></a>Utf-8编码</h3><p>UTF-8字符编码是针对于unicode编码的可变长度的字符编码使用8bit来进行存储，UTF-8是unicode编码的实现，存储的长度为1-4字节，UTF-8编码已经被所有互联网协议所支持，邮件联盟要求所有的邮件都使用UTF-8编码。UTF-8编码已经被越来越文件格式所支持，现行的支持UTF-8</p>
<p>在使用mysql数据库，创建表时，我们可以设置设置数据库的编码，当使用的UTF-8时，有两种比较常用的两种字符集：utf8_unicode_ci和utf8_general_ci，这两种基本的相似，utf8_general_ci字符集编码对某些语言的支持有一定的问题，但是utf8_general_ci会速度较快，utf8_unicode_ci会比较准确，但是时间速度会稍慢。</p>
<p>utf-8编码的规则：</p>
<p>​    1）对于单字节的符号，字节的第一位设为0，后面7位为这个符号的unicode    码。因此对于英语字母，UTF-8编码和ASCII码是相同的。</p>
<p>​    2）对于n字节的符号（n&gt;1），第一个字节的前n位都设为1，第n+1位设为0，后面字节的前两位一律设为10。剩下的没有提及的二进制位，全部为这个符号的unicode码。</p>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><p><a href="https://en.wikipedia.org/wiki/ASCII" target="_blank" rel="external">AscII wikipedia</a></p>
<p><a href="https://en.wikipedia.org/wiki/Unicode" target="_blank" rel="external">Unicode wikipedia</a></p>
<p><a href="https://en.wikipedia.org/wiki/UTF-8" target="_blank" rel="external">utf-8 wikipedia</a></p>
<p><a href="http://www.ruanyifeng.com/blog/2007/10/ascii_unicode_and_utf-8.html" target="_blank" rel="external">字符编码笔记：ASCII，Unicode和UTF-8</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/21/file-bom-header/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/21/file-bom-header/" itemprop="url">文件BOM头</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-21T09:40:03+08:00">
                2017-03-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/其他/" itemprop="url" rel="index">
                    <span itemprop="name">其他</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>BOM在utf-8编码的文件的首部，占三个字节，用来标识这个文档属于utf-8编码，现在很多编程语言和软件都能识别bom头，但有些久不行，如php不能识别bom头，</p>
<p>在python中创建带中文的csv文件时，我们需要使用utf-8编码，就需要在文件头写入BOM头：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> csv </div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    <span class="keyword">with</span> open(<span class="string">'temp.csv'</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> write_file:</div><div class="line">        csv_writer = csv.writer(write_file)</div><div class="line">        csv_writer.write(<span class="string">'\xEF\xBB\xBF'</span>)</div></pre></td></tr></table></figure>
<p>这样生成出来的csv文件不会出现乱码问题。</p>
<h3 id="乱码是怎么出现的"><a href="#乱码是怎么出现的" class="headerlink" title="乱码是怎么出现的"></a>乱码是怎么出现的</h3><p>乱码出现就是由于字符编码与解码的编码不一致导致的，每个符号的编码方式必须使用同样的编码方式解码才能解出真正的字符。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/15/django-internationalization/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/15/django-internationalization/" itemprop="url">Django实现国际化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-03-15T10:21:39+08:00">
                2017-03-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Django-web-应用国际化"><a href="#Django-web-应用国际化" class="headerlink" title="Django web 应用国际化"></a>Django web 应用国际化</h2><p>​    由于部门的系统升级，会导入外国用户，所以需要对系统进行国际化的配置，django作为一个开源的web服务框架，它本身是支持的国际化。</p>
<p>​    什么是国际化和本地化呢？敲黑板！！！</p>
<p>​    <strong>国际化</strong>就是修改软件使之能够适应目标市场的语言，地区差异以及技术的需要。国际化是将系统的逻辑与特定语言以及地区脱钩，使得系统在迁移到不同语言或地区时不需要改动系统内部逻辑。</p>
<p>​    <strong>本地化</strong>是指系统前遇到不同语言或地区时，添加特定信息以及翻译的过程。</p>
<h3 id="实现国际化"><a href="#实现国际化" class="headerlink" title="实现国际化"></a>实现国际化</h3><p>为了使系统能够提供给外国用户，原有的系统就需要进行国际化。实现了国际化后，系统能够更好的为不同类型的用户提供服务。按照以下几步就能让你web应用实现国际化，以及配置本地化：</p>
<ol>
<li>修改setting.py</li>
<li>安装的所需的包</li>
<li>国际化（template/view/javascript）</li>
<li>本地化</li>
</ol>
<h3 id="修改setting-py"><a href="#修改setting-py" class="headerlink" title="修改setting.py"></a>修改setting.py</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># setting.py</span></div><div class="line"></div><div class="line"><span class="keyword">from</span> django.utils.translation <span class="keyword">import</span> ugettext_lazy <span class="keyword">as</span> _</div><div class="line"></div><div class="line">I18N = <span class="keyword">True</span>  <span class="comment"># setting 中有默认设置</span></div><div class="line"></div><div class="line">I10N = <span class="keyword">True</span>  <span class="comment"># setting 中有默认设置</span></div><div class="line"></div><div class="line">LANGUAGE_CODE = <span class="string">'zh-hans'</span>  <span class="comment"># 设置默语言</span></div><div class="line"></div><div class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__))) <span class="comment"># 获取当前项目的绝对路径</span></div><div class="line"></div><div class="line">LOCALE_PATHS = [  <span class="comment"># EACH APP NEED TO ADD PATH TO THIS PARAM</span></div><div class="line">    os.path.join(BASE_DIR, <span class="string">'$&#123;app_name&#125;'</span>, <span class="string">'locale'</span>),</div><div class="line">    ...</div><div class="line">] <span class="comment"># 本地化的与配置目录后面会讲到如何使用</span></div><div class="line"><span class="comment"># AVALIABLE LANGUAGE </span></div><div class="line">LANGUAGES = [</div><div class="line">    (<span class="string">'zh-hans'</span>, _(<span class="string">u'简体中文'</span>)),</div><div class="line">    (<span class="string">'id'</span>, _(<span class="string">u'印尼语'</span>)),</div><div class="line">] <span class="comment"># 在这里_()是对ugettext_lazy函数的别名函数，ugettext_lazy的用法是的对Unicode编码的字符串进行延迟翻译，只在使用的时候才会进行翻译</span></div><div class="line"></div><div class="line">MIDDLEWARE = [ <span class="comment"># 除了原使用使用的中间件，添加一下三个中间件，要按照以下的顺序</span></div><div class="line">    ...,</div><div class="line">   <span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,</div><div class="line">   <span class="string">'django.middleware.locale.LocaleMiddleware'</span>,</div><div class="line">   <span class="string">'django.middleware.common.CommonMiddleware'</span>,</div><div class="line">]</div></pre></td></tr></table></figure>
<h3 id="安装的所需的包"><a href="#安装的所需的包" class="headerlink" title="安装的所需的包"></a>安装的所需的包</h3><p>由于django的中是使用GNU的gettext进行翻译，具体的工作机制的怎样的暂无了解，安利一个包管理<a href="[https://brew.sh/index_zh-cn.html">home brew</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># MacOS </span></div><div class="line"><span class="comment"># brew 是一个在Mac上一个套件管理器，用起来的十分方便类似于 ubuntu 中的apt-get</span></div><div class="line">brew install gettext <span class="comment"># install package</span></div><div class="line">brew link --force gettext <span class="comment"># 由于系统也有一个gettext的库，所以需要强制连接</span></div><div class="line">brew unlink gettext <span class="comment"># 当你不使用时可以解除连接</span></div></pre></td></tr></table></figure>
<h3 id="国际化"><a href="#国际化" class="headerlink" title="国际化"></a>国际化</h3><p>django中的国际化的支持分为</p>
<ol>
<li><code>in Python code</code>也就是django文件结构中app下的view.py,</li>
<li><code>in template code</code>template中html文件</li>
<li><code>in javascript code</code>，静态文件中的javascript文件，</li>
<li><code>url pattern</code>，在url中使用</li>
</ol>
<h4 id="在python代码上的使用"><a href="#在python代码上的使用" class="headerlink" title="在python代码上的使用"></a>在python代码上的使用</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"># 会使用的四个函数</div><div class="line">1. gettext()  # 用于翻译UTF-8的字符串</div><div class="line">2. gettext_lazy()  # 用于不需即时翻译UTF-8的字符串</div><div class="line">3. ugettext()  # 用于翻译unicode的字符串</div><div class="line">4. ugettext_lazy()  # 用于不需即时翻译unicode的字符串</div></pre></td></tr></table></figure>
<p>一般使用ugettext()，并且其中的字符串使用Unicode编码字符串，有Unicode字符串相较于string字符串能表达更多的字符，详细后续写一篇来说明一下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> django.utils.translation <span class="keyword">import</span> ugettext <span class="keyword">as</span> _</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">function_name</span><span class="params">()</span>:</span></div><div class="line">    maker = _(<span class="string">'this is the maker.'</span>) <span class="comment">#  这仅仅是国际化的一部分，这个字符串表明要翻译的id,是唯一标识</span></div></pre></td></tr></table></figure>
<p>详细参考<a href="https://docs.djangoproject.com/en/1.10/topics/i18n/translation/#internationalization-in-python-code" target="_blank" rel="external">点我点我</a></p>
<h4 id="在模板代码上的使用"><a href="#在模板代码上的使用" class="headerlink" title="在模板代码上的使用"></a>在模板代码上的使用</h4><p>在模板层的应用</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;load i18n&#125; &#123;# 为了让tmplate可以使用翻译的tag#&#125;</div><div class="line"></div><div class="line">&#123;% trans "starting point" as start %&#125; &#123;# 将starting point 的翻译放入 start变量 #&#125;</div><div class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>&#123;&#123; start &#125;&#125;<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这里有一个要注意的，上面的用法只能在一个block钟有效，例子如以下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&#123;# 正确的用法 #&#125;</div><div class="line">&#123;% block mainbody %&#125;</div><div class="line">	&#123;% trans 'Thank you' as thankword %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center-wrapper welcome-container"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"cover-heading"</span>&gt;</span>&#123;% trans "Oops..." %&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"cover-heading"</span>&gt;</span>&#123;&#123; thankword &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&#123;% endblock %&#125;</div><div class="line">&#123;# 错误用法 这样在bolck块中是无法读取thankword值的 #&#125;</div><div class="line"></div><div class="line">&#123;% trans 'Thank you' as thankword %&#125;</div><div class="line">&#123;% block mainbody %&#125;</div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"center-wrapper welcome-container"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"cover-heading"</span>&gt;</span>&#123;% trans "Oops..." %&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">"cover-heading"</span>&gt;</span>&#123;&#123; thankword &#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">&#123;% endblock %&#125;</div></pre></td></tr></table></figure>
<p>详细参考<a href="https://docs.djangoproject.com/en/1.10/topics/i18n/translation/#internationalization-in-template-code" target="_blank" rel="external">点我点我</a></p>
<h4 id="在javascript上的使用"><a href="#在javascript上的使用" class="headerlink" title="在javascript上的使用"></a>在javascript上的使用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># urls.py</span></div><div class="line">js_info_dict = &#123;</div><div class="line">    <span class="string">'packages'</span>: (<span class="string">'testapp'</span>,),</div><div class="line">&#125;</div><div class="line">url(<span class="string">r'^i18n\.js$'</span>, javascript_catalog, js_info_dict, name=<span class="string">'testapp-javascript-i18n'</span>),</div></pre></td></tr></table></figure>
<p>在html中添加js国际化组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&#123;% url 'testapp-javascript-i18n' %&#125;"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div></pre></td></tr></table></figure>
<p>在js中的用法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> trans_str = django.gettext(<span class="string">'trans string'</span>)</div></pre></td></tr></table></figure>
<p>详细参考<a href="https://docs.djangoproject.com/en/1.10/topics/i18n/translation/#internationalization-in-javascript-code" target="_blank" rel="external">点我点我</a></p>
<h4 id="在url上使用"><a href="#在url上使用" class="headerlink" title="在url上使用"></a>在url上使用</h4><p>为了能够在更换url时能带上语言信息，方便进行语言更换，所以我们使用的url的翻译</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># project.urls.py</span></div><div class="line"><span class="keyword">from</span> django.conf.urls.i18n <span class="keyword">import</span> i18n_patterns</div><div class="line">urlpatterns += i18n_patterns(</div><div class="line">    url(<span class="string">r'^testurlname/'</span>, include(<span class="string">'testapp.urls'</span>)),</div><div class="line">)</div><div class="line"><span class="comment"># 通过这样的设置可以在url前添加语言代码</span></div><div class="line"><span class="comment"># 如：zh-cn/testurlname/...</span></div><div class="line"><span class="comment">#    id/testurlname/...</span></div><div class="line"><span class="comment"># 也可以对url进行翻译,根据不同语言使用不同的url，详细在本地化环节</span></div><div class="line"><span class="keyword">from</span> django.utils.translation <span class="keyword">import</span> ugettext_lazy <span class="keyword">as</span> _</div><div class="line">urlpatterns += i18n_patterns(</div><div class="line">    url(_(<span class="string">r'^testurlname/'</span>), include(<span class="string">'testapp.urls'</span>)),</div><div class="line">)</div></pre></td></tr></table></figure>
<h3 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h3><p>本地就是将我们设置需要的翻译的文本全部汇总到一个文件，然后进行翻译本地化操作的过程</p>
<p>现有以下python代码，template代码，javascript代码，url进行翻译</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># python code testapp.view.py</span></div><div class="line"><span class="keyword">from</span> django.utils.translation <span class="keyword">import</span> ugettext <span class="keyword">as</span> _</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></div><div class="line">    sentence = <span class="string">'Welcome to my site.'</span></div><div class="line">    output = _(sentence)</div><div class="line">    <span class="keyword">return</span> HttpResponse(output)</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&#123;# template code index.html#&#125;</div><div class="line">&#123;% load i18n %&#125;</div><div class="line">&#123;% block mainbody %&#125;</div><div class="line">	&#123;% trans 'trans string' %&#125;</div><div class="line">&#123;% endbolck %&#125;</div></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// javascript code index.js</span></div><div class="line"><span class="keyword">var</span> trans_str = django.gettext(<span class="string">'trans string'</span>)</div></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># urls.py</span></div><div class="line">urlpatterns += i18n_patterns(</div><div class="line">    url(_(<span class="string">r'^testurlname/'</span>), include(<span class="string">'testapp.urls'</span>)),</div><div class="line">)</div></pre></td></tr></table></figure>
<p>在有以上的需要翻译的文本后</p>
<p>我们需要执行命令</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python manage.py makemessages -l zh_hans</div></pre></td></tr></table></figure>
<p>执行命令之后django就会根据setting.py中<code>LOCALE_PATHS</code>生成本地化文件django.po，或许会问为什么语言代码不是应该是<code>zh-hans</code>吗？为什这里就变成了<code>zh_hans</code>。对！！！你猜对了，这是一个坑，就是django中的本地化文件不能使用<code>-</code>，所以要使用<code>_</code>来替代<code>-</code>,</p>
<p>这里会生成两个po文件，一个是<code>django.po</code>，一个是<code>djangojs.po</code>，文件路径<code>${LOCALE_PATHS}/locale/zh_hans/django.po</code>,<code>${LOCALE_PATHS}/locale/zh_hans/djangojs.po</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"># django.po</div><div class="line"># SOME DESCRIPTIVE TITLE.</div><div class="line"># Copyright (C) YEAR THE PACKAGE&apos;S COPYRIGHT HOLDER</div><div class="line"># This file is distributed under the same license as the PACKAGE package.</div><div class="line"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</div><div class="line">#</div><div class="line">msgid &quot;&quot;</div><div class="line">msgstr &quot;&quot;</div><div class="line">&quot;Project-Id-Version: Medusa\n&quot;</div><div class="line">&quot;Report-Msgid-Bugs-To: \n&quot;</div><div class="line">&quot;POT-Creation-Date: 2017-03-17 18:38+0800\n&quot;</div><div class="line">&quot;PO-Revision-Date: 2017-03-17 17:47+0800\n&quot;</div><div class="line">&quot;Last-Translator: \n&quot;</div><div class="line">&quot;Language-Team: \n&quot;</div><div class="line">&quot;Language: zh_CN\n&quot;</div><div class="line">&quot;MIME-Version: 1.0\n&quot;</div><div class="line">&quot;Content-Type: text/plain; charset=UTF-8\n&quot;</div><div class="line">&quot;Content-Transfer-Encoding: 8bit\n&quot;</div><div class="line">&quot;Plural-Forms: nplurals=1; plural=0;\n&quot;</div><div class="line">&quot;X-Generator: Poedit 1.8.12\n&quot;</div><div class="line"></div><div class="line">#: testapp.view.py:3</div><div class="line">msgid &quot;Welcome to my site.&quot;</div><div class="line">msgstr &quot;&quot;</div><div class="line"></div><div class="line">#: index.html:3</div><div class="line">msgid: &quot;trans string&quot;</div><div class="line">msgstr: &quot;&quot;</div><div class="line"></div><div class="line">#: url.py:3</div><div class="line">msgid: &quot;r&apos;^testurlname/&apos;&quot;</div><div class="line">msgstr: &quot;&quot;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"># djangojs.po</div><div class="line"># SOME DESCRIPTIVE TITLE.</div><div class="line"># Copyright (C) YEAR THE PACKAGE&apos;S COPYRIGHT HOLDER</div><div class="line"># This file is distributed under the same license as the PACKAGE package.</div><div class="line"># FIRST AUTHOR &lt;EMAIL@ADDRESS&gt;, YEAR.</div><div class="line">#</div><div class="line">#, fuzzy</div><div class="line">msgid &quot;&quot;</div><div class="line">msgstr &quot;&quot;</div><div class="line">&quot;Project-Id-Version: PACKAGE VERSION\n&quot;</div><div class="line">&quot;Report-Msgid-Bugs-To: \n&quot;</div><div class="line">&quot;POT-Creation-Date: 2017-03-17 15:39+0800\n&quot;</div><div class="line">&quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n&quot;</div><div class="line">&quot;Last-Translator: FULL NAME &lt;EMAIL@ADDRESS&gt;\n&quot;</div><div class="line">&quot;Language-Team: LANGUAGE &lt;LL@li.org&gt;\n&quot;</div><div class="line">&quot;Language: \n&quot;</div><div class="line">&quot;MIME-Version: 1.0\n&quot;</div><div class="line">&quot;Content-Type: text/plain; charset=UTF-8\n&quot;</div><div class="line">&quot;Content-Transfer-Encoding: 8bit\n&quot;</div><div class="line">&quot;Plural-Forms: nplurals=1; plural=0;\n&quot;</div><div class="line"></div><div class="line">#: index.js:1</div><div class="line">msgid: &quot;trans string&quot;</div><div class="line">msgstr: &quot;&quot;</div></pre></td></tr></table></figure>
<p>在完成上面<code>msgstr</code>的翻译文本填写后，通过执行命令：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">python manage.py compilemessages</div></pre></td></tr></table></figure>
<p>这样就会将你的翻译便以为.mo二进制文件</p>
<p>此时只需要重启服务器就可以看到翻译后的文本了</p>
<p>END</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://en.wikipedia.org/wiki/Internationalization_and_localization" target="_blank" rel="external">国际化与本地化</a></p>
<p><a href="https://docs.djangoproject.com/en/1.10/topics/i18n/translation/" target="_blank" rel="external">django Internationalization</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/23/python-input-output/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/23/python-input-output/" itemprop="url">python的输入输出</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-23T10:22:39+08:00">
                2017-02-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/python/" itemprop="url" rel="index">
                    <span itemprop="name">python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="输出"><a href="#输出" class="headerlink" title="输出"></a>输出</h2><h3 id="Python2-7"><a href="#Python2-7" class="headerlink" title="Python2.7"></a>Python2.7</h3><p>用<code>print</code>加上字符串，就可以在显示器输出，如要输出<code>Hello,world</code>，则用法是：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;<span class="keyword">print</span> <span class="string">'Hello,world'</span></div><div class="line">Hello,world</div></pre></td></tr></table></figure>
<p><code>print</code>语句后可以跟多个字符串，并用逗号间隔即可<br><code>print</code>会依次输出每一个字符串，并且以空格间隔，所以拼接出来的字符串是这样的<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;<span class="keyword">print</span> <span class="string">'The dog'</span>, <span class="string">'and'</span>, <span class="string">'the cat'</span>, <span class="string">'play together.'</span></div><div class="line">The dog <span class="keyword">and</span> the cat play together.</div></pre></td></tr></table></figure></p>
<p>当然<code>print</code>也是可以输出数字的<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">print</span> <span class="number">300</span></div><div class="line"><span class="number">300</span></div><div class="line"><span class="keyword">print</span> <span class="number">100</span> + <span class="number">200</span></div><div class="line"><span class="number">300</span></div></pre></td></tr></table></figure></p>
<p><code>print</code>会通过python解析器做出运算后输出结果</p>
<p>对象或类输出<br>当对象或类没有定义<code>__str__</code>时，输出对象或者类时会输出对象的内存指针地址，所以当我们需要输出的对象的实际内容时，我们就需要在定义class时将<code>__str__</code>作出定义，用法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;<span class="class"><span class="keyword">class</span> <span class="title">Test</span><span class="params">(object)</span>:</span></div><div class="line">...	<span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></div><div class="line"><span class="meta">... </span>    <span class="keyword">return</span> <span class="string">'The number of Test:'</span></div><div class="line"><span class="meta">... </span><span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></div><div class="line">    	retunr <span class="string">'Test()'</span></div><div class="line">&gt;&gt;&gt;test = Test()</div><div class="line">&gt;&gt;&gt;test</div><div class="line">Test()</div><div class="line">&gt;&gt;&gt;<span class="keyword">print</span> test</div><div class="line">The number of Test:</div></pre></td></tr></table></figure>
<h3 id="python3-x"><a href="#python3-x" class="headerlink" title="python3.x"></a>python3.x</h3><p>基本用法与2.7一直</p>
<p>仅仅是python3.X使用print时是一函数调用的方式使用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;print(<span class="string">"maker"</span>)</div><div class="line">maker</div><div class="line">&gt;&gt;&gt;print(<span class="number">100</span> + <span class="number">200</span>)</div><div class="line"><span class="number">300</span></div></pre></td></tr></table></figure>
<h2 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h2><h3 id="python2-7-X"><a href="#python2-7-X" class="headerlink" title="python2.7.X"></a>python2.7.X</h3><p>例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&gt;&gt;&gt;name = raw_input()</div><div class="line">Manny</div><div class="line">&gt;&gt;&gt;name</div><div class="line">Manny</div></pre></td></tr></table></figure>
<p>python 2.7.X中使用input()，并不能对输入进行容错，要求输入完整的字符串，在输入错误时会引起<code>SyntaxError</code>，所以一般使用的<code>raw_input()</code>，相比于<code>input()</code>，<code>raw_input</code>能够结合搜具有空格的字符串，这是<code>input()</code>所不能的</p>
<p>所以一般推荐使用<code>raw_input()</code></p>
<h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><p>任何计算机程序都需要输入输出，通过指定的输入，就能得到相应的输出，输出是<code>Input</code>，输出是<code>Output</code>，那么简答来说输入/输出就是<code>Input/Output</code>，再简化就是<code>I/O</code></p>
<p><a href="https://docs.python.org/2.7/library/functions.html#input" target="_blank" rel="external">input()</a></p>
<p><a href="https://docs.python.org/2.7/library/functions.html#raw_input" target="_blank" rel="external">raw_input()</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/02/09/web-localcache/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/02/09/web-localcache/" itemprop="url">详解HTML中cookies,localStorage,sessionStorage</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-02-09T10:47:38+08:00">
                2017-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/HTML/" itemprop="url" rel="index">
                    <span itemprop="name">HTML</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>浏览器中的提供的几种方式来存储一些临时的信息，每种的存储方式都有器特点以及的缺点。本文将介绍三者之间差别以及会演示一些基本的用法。</p>
<p>浏览器的中提供的用来存储本地缓存的方式：</p>
<ol>
<li>cookies</li>
<li>localStorage</li>
<li>sessionStorage</li>
</ol>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="cookies"><a href="#cookies" class="headerlink" title="cookies"></a>cookies</h3><p>cookies，在中文又称为<code>小甜饼</code>，是某些网站为了对用户进行身份识别而存储在浏览器本地的小块数据，并且在网络传输时会一并带上，开发者可以设置cookies的过期时间。一般在使用网站时有记住密码的功能时就是使用cookie进行存储。</p>
<h3 id="localStorage"><a href="#localStorage" class="headerlink" title="localStorage"></a>localStorage</h3><p>localstorage，是HTML5标准中的提出的一个新技术，他的前身是userData,它将数据存储在用户本地计算机，浏览器通过一系列的协议和方法进行读写，这些数据可以在用户计算机上持久保存，即使用户重新打开浏览器这些数据也还是存在的。数据在存储时通过协议、主机和端口来进行身份验证。目前大部分主流浏览器都是支持lcoalstorage的。</p>
<h3 id="SessionStorage"><a href="#SessionStorage" class="headerlink" title="SessionStorage"></a>SessionStorage</h3><p>sessionStorage， 它与localStorage相似，但是在使用范围和生命周期不同，sessionStorage在浏览器关闭之后会清除数据，一个用处就是：sessionStorage是为了更好的区分同一浏览器不同tab访问同一个浏览器是不会妨碍彼此的访问而设置的，而这是cookies所不能做到的。</p>
<h2 id="浏览器兼容特性"><a href="#浏览器兼容特性" class="headerlink" title="浏览器兼容特性"></a>浏览器兼容特性</h2><table>
<thead>
<tr>
<th>特性</th>
<th>chrome</th>
<th>firfox</th>
<th>Internet  Explorer</th>
<th>Opera</th>
<th>Safari (WebKit内核)</th>
</tr>
</thead>
<tbody>
<tr>
<td>localstorage</td>
<td>4</td>
<td>3.5</td>
<td>8</td>
<td>10.50</td>
<td>4</td>
</tr>
<tr>
<td>sessionStorage</td>
<td>5</td>
<td>2</td>
<td>8</td>
<td>10.50</td>
<td>4</td>
</tr>
</tbody>
</table>
<h2 id="特性对比"><a href="#特性对比" class="headerlink" title="特性对比"></a>特性对比</h2><table>
<thead>
<tr>
<th style="text-align:center">特性</th>
<th style="text-align:center">cookies</th>
<th style="text-align:center">LocalStorage</th>
<th style="text-align:center">SessionStorage</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">生命周期</td>
<td style="text-align:center">一般由服务器生成，可以是设置失效时间，如果在浏览器设置，默认在浏览器关闭时清楚</td>
<td style="text-align:center">除非清除，否则一直存在</td>
<td style="text-align:center">仅在当前会话中存在，关闭页面后就会被清除</td>
</tr>
<tr>
<td style="text-align:center">存储大小</td>
<td style="text-align:center">4kB左右</td>
<td style="text-align:center">约为5MB</td>
<td style="text-align:center">同LocalStorage</td>
</tr>
<tr>
<td style="text-align:center">http请求的作用</td>
<td style="text-align:center">在每次http请求中的会在http请求头上带上，过大的cookies会影响请求的性能</td>
<td style="text-align:center">只存储在浏览器本地，不参与http通讯</td>
<td style="text-align:center">同LocalStorage</td>
</tr>
<tr>
<td style="text-align:center">易用性</td>
<td style="text-align:center">由于原生cookies接口不友好，需要开发者自己封装，一般的服务器框架都有封装</td>
<td style="text-align:center">源生接口可以接受，亦可再次封装来对Object和Array有更好的支持</td>
<td style="text-align:center">同LocalStorage</td>
</tr>
</tbody>
</table>
<h2 id="使用用法"><a href="#使用用法" class="headerlink" title="使用用法"></a>使用用法</h2><h3 id="javascript操作cookie"><a href="#javascript操作cookie" class="headerlink" title="javascript操作cookie"></a>javascript操作cookie</h3><p>在javascript中可以通过document.cookie来读取cookie的内容或设置cookie，同时，有时cookies在客户端与服务端之间进行通信，因此，在服务端，同样有着可以对cookie进行操作带的相关工具</p>
<ul>
<li>cookie的类型：<code>字符串</code><br>alert(typeof document.cookie) # string</li>
<li>cookies是有域和路径这个概念，不同域只能访问自己的cookie，这个会在后面介绍</li>
<li>cookie的创建和定义变量的方式相似，都是通过使用cookie键值，一个cookies可以存储多个cookie</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 设置cookie</span></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCookie</span>(<span class="params">arg_name, arg_value</span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="built_in">document</span>.cookie.length &gt; <span class="number">0</span>)&#123;</div><div class="line">		<span class="built_in">document</span>.cookie = arg_name + <span class="string">'='</span> + arg_value;</div><div class="line">		&#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCookie</span>(<span class="params">arg_name</span>)</span>&#123;</div><div class="line">	<span class="keyword">if</span> (<span class="built_in">document</span>.cookie.length &gt; <span class="number">0</span>)&#123;</div><div class="line">		c_start=<span class="built_in">document</span>.cookie.indexOf(arg_name + <span class="string">"="</span>)</div><div class="line">			<span class="keyword">if</span> c_start != <span class="number">-1</span>)&#123;</div><div class="line">				c_end=<span class="built_in">document</span>.cookie.indexOf(<span class="string">";"</span>,c_start)</div><div class="line">				<span class="keyword">if</span> (c_end==<span class="number">-1</span>) c_end=<span class="built_in">document</span>.cookie.length　　</div><div class="line">				<span class="keyword">return</span> <span class="built_in">unescape</span>(<span class="built_in">document</span>.cookie.substring(c_start,c_end))</div><div class="line">				&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> <span class="string">''</span></div><div class="line">&#125;</div><div class="line">    </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">setCookiesExpires</span>(<span class="params">arg_vale, arg_value</span>)</span>&#123;</div><div class="line">	<span class="keyword">var</span> exdate=<span class="keyword">new</span> <span class="built_in">Date</span>()</div><div class="line">	exdate.setDate(exdate.getDate()+expiredays)</div><div class="line">	<span class="built_in">document</span>.cookie = arg_vale + <span class="string">"="</span> + <span class="built_in">escape</span>(arg_value) + ((expiredays == <span class="literal">null</span>) ? <span class="string">""</span> : <span class="string">";expires="</span> + exdate.toGMTString())</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h4 id="cookie域与路径问题"><a href="#cookie域与路径问题" class="headerlink" title="cookie域与路径问题"></a>cookie域与路径问题</h4><ul>
<li>路径</li>
</ul>
<p>路径就代表着cookies存储的路径，一般来说，不同页面创建的cookies是不能互相之间访问，因为他们有路径，如：<br>    <code>一般来说https://www.baidu.com创建的cookies是不能被www.google.com.hk的页面访问，但如果将path设置到根目录，就能访问</code></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.cookie = <span class="string">"name=Darren;path=/"</span></div></pre></td></tr></table></figure>
<p>此时，任何都可以访问<br>​                                </p>
<ul>
<li><p>域</p>
<p>路径能解决在同一个域下访问 cookie 的问题，咱们接着说 cookie 实现同域之间访问的问题。语法如下</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">document</span>.cookie = <span class="string">"name=value;path=path;domain=domain"</span></div></pre></td></tr></table></figure>
<p>值domain就是cookie中域的值<br>举个栗子：<br><code>www.baidu.com</code>和<code>news.baidu.com</code>共用一个关联域名<code>baidu.com</code>，如果想让这两个域名都能访问得到cookie，则需要设置cookie的domain属性，并且把path设置为<code>/</code></p>
<p>​                                                            </p>
<h4 id="cookies-安全性"><a href="#cookies-安全性" class="headerlink" title="cookies 安全性"></a>cookies 安全性</h4></li>
</ul>
<p>为了使用传输的cookies几时被截获也不会很容易被读取，所以需要将cookie进行一定程度的加密cookie可以添加<code>secure</code>属性<code>document.cookie = &quot;username=Darren;secure&quot;</code>，这样保证了传输时的数据加密，但在本地是没有加密的，方便读取。即使你设置了<code>secure</code>也不能保证别人不会查看你的cookie数据，关键还是不要把敏感信息放在cookie中<br>​                                                                </p>
<h4 id="编码"><a href="#编码" class="headerlink" title="编码"></a>编码</h4><p>cookies中不能使用分号，逗号等特殊符号，因此当我们得cookie值中包含以上的字符时，则需要将cookie值进行设置，使用<code>escape()</code>，解析的时候使用<code>unescape()</code></p>
<h3 id="javascript操作LocalStorage以及SessionStorage"><a href="#javascript操作LocalStorage以及SessionStorage" class="headerlink" title="javascript操作LocalStorage以及SessionStorage"></a>javascript操作LocalStorage以及SessionStorage</h3><p>LocalStorage和SessionStorage对象存储的方式都是都是键值对的方式存储，但是同样的LocalStorage和SessionStorage都不要存储敏感数据，而且在获取数据时，需要对数据进行校验。<br>LocalStorage的对象以及SessionStorage对象可以通过以下方式进行获取：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 获取localStorage对象</span></div><div class="line"><span class="keyword">var</span> g_localStorage = <span class="built_in">window</span>.localStorage || localStorage</div><div class="line"><span class="comment">// 获取SessionStorage对象</span></div><div class="line"><span class="keyword">var</span> g_sessionStorage = <span class="built_in">window</span>.sessionStorage || sessionStorage</div><div class="line">																					        <span class="comment">// 两者的用法相似，一次这里离就偷个懒，就只写出的localStorage的操作方法</span></div><div class="line"><span class="comment">// 设置localStorage</span></div><div class="line">g_localStorage.setItem(<span class="string">'name'</span>, <span class="string">'wei'</span>)</div><div class="line"><span class="comment">// 获取key获取localStorage对应的值</span></div><div class="line"><span class="built_in">console</span>.log(g_localStorage.getItem(<span class="string">'name'</span>))</div><div class="line"><span class="comment">// 删除数据项</span></div><div class="line">g_sessionStorage.removeItem(<span class="string">'name'</span>);</div><div class="line"><span class="comment">// 清除LocalStorage对象</span></div><div class="line">g_localStorage.clear()</div></pre></td></tr></table></figure>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>cookies,localStorage,sessionStorage都是为了让用户有更好的使用体验和让开发者有更好的方式，但这些存储方式，都不适合存储敏感数据，而且客户端以及服务端需要对数据进行严格的校验，以防出现潜在的攻击方式。但是，说到底，没有永远的安全，web的安全需要不断的提升。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a href="https://en.wikipedia.org/wiki/HTTP_cookie" target="_blank" rel="external">http cookie</a><br><a href="https://en.wikipedia.org/wiki/Web_storage" target="_blank" rel="external">webstorage</a><br><a href="http://jerryzou.com/posts/cookie-and-web-storage/" target="_blank" rel="external">详说 Cookie, LocalStorage 与 SessionStorage</a><br><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Window/localStorage" target="_blank" rel="external">Window.localStorage</a><br><a href="http://www.cnblogs.com/Darren_code/archive/2011/11/24/Cookie.html" target="_blank" rel="external">JavaScript操作cookie</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/01/02/2016-summery/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/01/02/2016-summery/" itemprop="url">2016-summery</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-01-02T01:39:18+08:00">
                2017-01-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/回头看/" itemprop="url" rel="index">
                    <span itemprop="name">回头看</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="2016"><a href="#2016" class="headerlink" title="2016"></a>2016</h3><p>2016，一个寻常年，很多的人离开了他们以前所熟悉的校园，他们有的到达新的校园，有的就是走进这个残酷的社会，而我恰恰就是那一批<code>没书读</code>，走进社会的那群人，从2015的9月21号开始，就走进了开始工作的日子，从一开始的一切陌生，到现在的熟悉流程，以前都过得很快。</p>
<p>记得以前经常会感叹，在创新班的日子的过得很快，转眼之间，就在创新班的里面的度过的3年，每天上完课就吃饭，晚上到时间就去创新班那边码代码，当时的日子很是闲适的，又有规律，虽然会比较晚才回去休息，虽然会很累，但是好像的有种感觉就是坚持下去一定会有收获。记得在一开始面试创新班的时候，老金问道：你觉得你有什么优点。当时我说到是坚持。说实话我也没感觉自己有什么特别有坚持的，所以在老金后问到什么事情可以体现时，真的就打不出来，老金还说道：“不要说什么高考的，刚才就有个小子说到，那个还不是”，然后就跟旁边的师兄在笑。其实想想也是，想要坚持不难，但的有事情可以坚持，有毅力可以坚持，还有就是，你的先开个头（逃。 好像说歪了（捂脸）。在离开创新班的这些时间里面，依然是感觉过得很快的，每天的沉浸在忙碌的生活中，每天两点一线，没毕前还能回去宿舍一起欢乐开黑。一起是有说有笑。毕业后也是时间过得飞快，每天上班下班。都是那样的日子。不知道是不是忙的日子过得特别快，可能就是了。时间你真的走得快得可怕。走得悄无声息。</p>
<p>生活总是让你无可奈何，当事实呈现在你面前的时候，你才会默然惊醒，发觉你做什么，并不能改变什么。只有你痛下决心，说干就干，对此大刀阔斧的改变，你才能改变你的现状。对于生活的模式，认为自己还是比较适合独处那种模式，虽然自己很不喜欢这样。孤独，只不过是你不会说话的一个借口，试着去改变，找人去诉说。变得好。</p>
<p>今年去了云南，对于一个不怎么旅游的人来说，还是不错的体验的，云南仿佛就是为去hea的人准备的城市，那里的慢节奏，飘花香，醇酒，美景，那适宜的气候都是为慢生活准备的。给你一个最好的环境去释放。玩不仅仅只是会玩，更多的是去释放这么久以来的宅，可以出去无所事事，轻轻松松，享受那最后的温柔。</p>
<p>2016 一个寻常年，集读书，运动，工作与一身的一年，还是不错的开始，期待2017能更好的做好自己。</p>
<p><code>way hrad and long, but i will still go forward</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/21/yunnan-trip/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="willLuo">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="无名氏">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/21/yunnan-trip/" itemprop="url">去到一个据说宜居的地方 --- 云南</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2016-07-21T09:50:43+08:00">
                2016-07-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/走世界/" itemprop="url" rel="index">
                    <span itemprop="name">走世界</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>一直都说云南是一个旅游的好地方，很适合居住。所以一直有想去云南旅游的想法，刚好碰上端午节，其他人有假期，就一起来一个说走就走的旅行。马上定下了去云南昆明的火车票。Z211，广州经过广西直达昆明。</p>
<h3 id="行程"><a href="#行程" class="headerlink" title="行程"></a>行程</h3><h4 id="广州到昆明"><a href="#广州到昆明" class="headerlink" title="广州到昆明"></a>广州到昆明</h4><p>广州火车站虽然看似很大，但是我们去到的时候也有挺多人在准备进站，走入帐篷底下进站，是一个漏斗形进站口，感觉是个坑啊，这种漏斗型的进站口不会最容易导致堵塞么？想想在春运是整个广场都是人的话，该是一个多么辛苦。为了生活，去到一个陌生的城市，为了家人，挨肩擦背在火车站挤火车回家。<br>火车启动，在晚上醒过了几次，都是在黑夜中，一个城市的黑夜很美，经过广西南宁，外面下着点点的小雨，火车里面的人，大概很多都睡了吧，作为一个互联网从业的一份子，似乎纵有一种很晚睡的习惯，不知是不是子啊创新班中习惯了下来，总要很晚才能睡着。火车站的大叔在为火车补水，火车停了大概20分钟，然后就继续上路，火车在铁轨上走，对于一个第一次搭火车的人来说，一切都是新奇的，行驶中的火车没有想象中嘈杂，深夜行驶的火车还是挺安静的。<br>早上醒来,已经在云南省内，火车一次又一次的闯过隧道，车窗外的风景一直在变，青山，绿水，一切尽收眼底，以前书上所说的青山，绿水现在有机会可以看到，自己是很是兴奋。一直生活在城镇，也很少见到这种青山绿水。河面在太阳光的照耀下变得金光闪闪。距离终点站越来越近，很多人也醒了。活动在火车中，但相对来说还是挺安静。每个城市都有其不同的特点的，在火车就能看到路途上的东西。<br>下了火车，出了车站，过马路时没有斑马线的红绿灯。双4车道的马路也没有斑马线的红绿灯，也没有交警协助控制人流。每个城市还是有不同的地方。去了昆明师范大学，学校比较小，但是同样是有林荫的校道，好羡慕。</p>
<h4 id="昆明到大理"><a href="#昆明到大理" class="headerlink" title="昆明到大理"></a>昆明到大理</h4><p>第二天就起来就搭了大巴去大理，4个小时的车程，并没有晕车的症状，不知道是气候问题还是我真的变得可以搭车了，并不清楚。不能搭车的人~~，表示搭车是一件很辛苦的事。可是去旅行很多时候都要搭车。经过4个小时车程，来到一个新的城市—大理。下车就被卖猪仔，带到一家客栈，不过价格确实很便宜，环境还挺不错的。放下行李在古城里面闲逛，石板路，中间一条小溪。环境有种说不出的好。还有两只拉布拉多汪星人。6个人在古城里面瞎逛，午餐没有吃，所以晚餐吃得比较早，试了一下烤肉，烤肉做的并不是好吃，烤菜还好。味道都是比较重，都是比较咸的。吃完饭后继续瞎逛，买了鲜花饼，很香的玫瑰香，一个一个都订了要的鲜花饼。在隔离的一家中看到一个驻店歌手收，店里的人都在很享受地听着驻店歌手的歌。有时想，其实生活也可以很简单，一把吉他或许就能走天下了。每个人都会有自己不同的最求，走自己想走的路就对了。大理差不多7点才开始变黑，整个时间活动都推迟了。有更多的白天的时间。晚上回客栈，去了宵夜，喝一杯玫瑰酒，很香玫瑰味，6个人又一起买了这个玫瑰酒。</p>
<h4 id="苍山之行"><a href="#苍山之行" class="headerlink" title="苍山之行"></a>苍山之行</h4><p>一个可以乘坐缆车的地方，到达高高的山顶，海拔3900+，山上很凉爽，风景也非常好。爬上又爬下，沿着山顶的路走了很久，很喜欢这个地方，空气又好，又有凉爽的天气，并不像广州那样的闷热。还有一个就是站得高，看得远。由于时间很赶，走完后就直接搭缆车下来。去到山下天龙八部影城还下起了太阳雨，下雨的使得这个景点更加的好看，有一种不知道怎么说的美。为了躲雨走到了一个挂满心愿木板的房子下，每块木板都写上了每个人对自己的生活的期待，看着别人的愿望，觉得都很是美好。希望每个人的生活都能过得很好。回到客栈后，又去古城里面买了一小品玫瑰酒，回到客栈中坐在藤椅上，一手是玫瑰酒，一手是手机，很是舒适，就喜欢的这种静静的坐着，在hea的生活。晚上定了回去的机票。看着机票又577变成677，好可惜啊，快一点就能577啦，便宜100软妹币吖。</p>
<h4 id="双廊"><a href="#双廊" class="headerlink" title="双廊"></a>双廊</h4><p>就有在逛逛啊，随便走，围着洱海在汽车</p>
<h4 id="香格里拉"><a href="#香格里拉" class="headerlink" title="香格里拉"></a>香格里拉</h4><p>上去有点坑，就是在那边逛逛，然后看了一下赛马场比赛</p>
<h4 id="丽江"><a href="#丽江" class="headerlink" title="丽江"></a>丽江</h4><p>好地方，就是在很适合跟妹子一起过来，捂脸跑</p>
<h4 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h4><p>写着写着就没什么好写的，不太喜欢写流水账，随后有唯美图</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="willLuo" />
          <p class="site-author-name" itemprop="name">willLuo</p>
           
              <p class="site-description motion-element" itemprop="description">积跬步，至千里</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives/">
                <span class="site-state-item-count">13</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">9</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">21</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2017</span>
  <span class="with-love">
    <i class="fa fa-rocket"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">willLuo</span>
</div>


<div class="powered-by">
  由 <a class="theme-link" href="https://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>


        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>

  
  <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
    <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  





  

  

  

  

  

  

</body>
</html>
